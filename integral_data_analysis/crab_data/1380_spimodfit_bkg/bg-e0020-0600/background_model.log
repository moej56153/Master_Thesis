; IDL 8.8.0 (linux x86_64 m64)
; Journal File for jmoeller@ga05us
; Working directory: /home/jmoeller/cookbook/SPI_cookbook/examples/Crab
; Date: Tue May  2 22:53:05 2023
 
;-----------------------------------------------------------
;-----------------------------------------------------------
;Warning: Appending Backgroundmodels only works, if nomore 
;than two consecutive database energy ranges are overlapping
;-----------------------------------------------------------
;-----------------------------------------------------------
;If problem with database entries (01/2017) for energyrange <200keV
;has not been solved yet(Tue May  2 22:53:05 2023), use template!
;-----------------------------------------------------------
;-----------------------------------------------------------
;This is a beta version for testing, no guarantee for fully 
;working output and background models (Tue May  2 22:53:05 2023)!
;-----------------------------------------------------------
;-----------------------------------------------------------
;---
;Searching SPI data files in /home/jmoeller/cookbook/SPI_cookbook/examples/Crab/cookbook_dataset_02_0020-0600keV_SE_1380_sim/spi/ ...
;---
;---
;All necessary SPI data set files found in /home/jmoeller/cookbook/SPI_cookbook/examples/Crab/cookbook_dataset_02_0020-0600keV_SE_1380_sim/spi/, now reading them in ...
;---
;MRDFITS: Binary table.  2 columns by  1235 rows.
;MRDFITS: Binary table.  3 columns by  41 rows.
;MRDFITS: Binary table.  11 columns by  65 rows.
;MRDFITS: Binary table.  2 columns by  1235 rows.
;---
;OK!
;---
;Reading scw file ...
;MRDFITS: Binary table.  349 columns by  65 rows.
;---
;ENTRY(S) -1 OF POINTING SCALING ARRAY HAS NO VALUE, ASSUMING 1.00 TROUGHOUT!
;ENTRY(S) -1 OF POINTING SCALING ARRAY IS NAN, ASSUMING 1.00 TROUGHOUT!
;---
;OK!
;Begin background modeling ...
;---
;---
;OK!
;Reading database file ...
;---
;---
;Database file (/afs/ipp/mpe/gamma/instruments/integral/data/databases/spi_line_db/data/links/com_spec_params_e0020_0050.sav) found!
;####################################################################
;Energy range: 20.250000keV-49.250000keV
;####################################################################
;---
;---
;OK!
;Creating arrays ...
;---
;---
;OK!
;Converting evts data to array-format spectra per pointing...
;---
;Pointing/revol_idx/Revolution/%:            0        1235    1380       0
;Pointing/revol_idx/Revolution/%:            6        1235    1380       9
;Pointing/revol_idx/Revolution/%:           12        1235    1380      18
;Pointing/revol_idx/Revolution/%:           18        1235    1380      27
;Pointing/revol_idx/Revolution/%:           24        1235    1380      36
;Pointing/revol_idx/Revolution/%:           30        1235    1380      46
;Pointing/revol_idx/Revolution/%:           36        1235    1380      55
;Pointing/revol_idx/Revolution/%:           42        1235    1380      64
;Pointing/revol_idx/Revolution/%:           48        1235    1380      73
;Pointing/revol_idx/Revolution/%:           54        1235    1380      83
;Pointing/revol_idx/Revolution/%:           60        1235    1380      92
;---
;Fitting ended!
;---
;---
;OK!
;Rebinning background model array and filling to structure...
;---
;---
;OK!
;Reading database file ...
;---
;---
;Database file (/afs/ipp/mpe/gamma/instruments/integral/data/databases/spi_line_db/data/links/com_spec_params_e0050_0068.sav) found!
;####################################################################
;Energy range: 50.250000keV-67.250000keV
;####################################################################
;---
;---
;OK!
;Creating arrays ...
;---
;---
;OK!
;Converting evts data to array-format spectra per pointing...
;---
;Pointing/revol_idx/Revolution/%:            0        1235    1380       0
;Pointing/revol_idx/Revolution/%:            6        1235    1380       9
;Pointing/revol_idx/Revolution/%:           12        1235    1380      18
;Pointing/revol_idx/Revolution/%:           18        1235    1380      27
;Pointing/revol_idx/Revolution/%:           24        1235    1380      36
;Pointing/revol_idx/Revolution/%:           30        1235    1380      46
;Pointing/revol_idx/Revolution/%:           36        1235    1380      55
;Pointing/revol_idx/Revolution/%:           42        1235    1380      64
;Pointing/revol_idx/Revolution/%:           48        1235    1380      73
;Pointing/revol_idx/Revolution/%:           54        1235    1380      83
;Pointing/revol_idx/Revolution/%:           60        1235    1380      92
;---
;Fitting ended!
;---
;---
;OK!
;Rebinning background model array and filling to structure...
;---
;---
;OK!
;Reading database file ...
;---
;---
;Database file (/afs/ipp/mpe/gamma/instruments/integral/data/databases/spi_line_db/data/links/com_spec_params_e0068_0092.sav) found!
;####################################################################
;Energy range: 68.250000keV-91.250000keV
;####################################################################
;---
;---
;OK!
;Creating arrays ...
;---
;---
;OK!
;Converting evts data to array-format spectra per pointing...
;---
;Pointing/revol_idx/Revolution/%:            0        1235    1380       0
;Pointing/revol_idx/Revolution/%:            6        1235    1380       9
;Pointing/revol_idx/Revolution/%:           12        1235    1380      18
;Pointing/revol_idx/Revolution/%:           18        1235    1380      27
;Pointing/revol_idx/Revolution/%:           24        1235    1380      36
;Pointing/revol_idx/Revolution/%:           30        1235    1380      46
;Pointing/revol_idx/Revolution/%:           36        1235    1380      55
;Pointing/revol_idx/Revolution/%:           42        1235    1380      64
;Pointing/revol_idx/Revolution/%:           48        1235    1380      73
;Pointing/revol_idx/Revolution/%:           54        1235    1380      83
;Pointing/revol_idx/Revolution/%:           60        1235    1380      92
;---
;Fitting ended!
;---
;---
;OK!
;Rebinning background model array and filling to structure...
;---
;---
;OK!
;Reading database file ...
;---
;---
;Database file (/afs/ipp/mpe/gamma/instruments/integral/data/databases/spi_line_db/data/links/com_spec_params_e0092_0110.sav) found!
;####################################################################
;Energy range: 92.250000keV-109.25000keV
;####################################################################
;---
;---
;OK!
;Creating arrays ...
;---
;---
;OK!
;Converting evts data to array-format spectra per pointing...
;---
;Pointing/revol_idx/Revolution/%:            0        1235    1380       0
;Pointing/revol_idx/Revolution/%:            6        1235    1380       9
;Pointing/revol_idx/Revolution/%:           12        1235    1380      18
;Pointing/revol_idx/Revolution/%:           18        1235    1380      27
;Pointing/revol_idx/Revolution/%:           24        1235    1380      36
;Pointing/revol_idx/Revolution/%:           30        1235    1380      46
;Pointing/revol_idx/Revolution/%:           36        1235    1380      55
;Pointing/revol_idx/Revolution/%:           42        1235    1380      64
;Pointing/revol_idx/Revolution/%:           48        1235    1380      73
;Pointing/revol_idx/Revolution/%:           54        1235    1380      83
;Pointing/revol_idx/Revolution/%:           60        1235    1380      92
;---
;Fitting ended!
;---
;---
;OK!
;Rebinning background model array and filling to structure...
;---
;---
;OK!
;Reading database file ...
;---
;---
;Database file (/afs/ipp/mpe/gamma/instruments/integral/data/databases/spi_line_db/data/links/com_spec_params_e0110_0215.sav) found!
;####################################################################
;Energy range: 110.25000keV-214.25000keV
;####################################################################
;---
;---
;OK!
;Creating arrays ...
;---
;---
;OK!
;Converting evts data to array-format spectra per pointing...
;---
;Pointing/revol_idx/Revolution/%:            0        1235    1380       0
;Pointing/revol_idx/Revolution/%:            6        1235    1380       9
;Pointing/revol_idx/Revolution/%:           12        1235    1380      18
;Pointing/revol_idx/Revolution/%:           18        1235    1380      27
;Pointing/revol_idx/Revolution/%:           24        1235    1380      36
;Pointing/revol_idx/Revolution/%:           30        1235    1380      46
;Pointing/revol_idx/Revolution/%:           36        1235    1380      55
;Pointing/revol_idx/Revolution/%:           42        1235    1380      64
;Pointing/revol_idx/Revolution/%:           48        1235    1380      73
;Pointing/revol_idx/Revolution/%:           54        1235    1380      83
;Pointing/revol_idx/Revolution/%:           60        1235    1380      92
;---
;Fitting ended!
;---
;---
;OK!
;Rebinning background model array and filling to structure...
;---
;---
;OK!
;Reading database file ...
;---
;---
;Database file (/afs/ipp/mpe/gamma/instruments/integral/data/databases/spi_line_db/data/links/com_spec_params_e0213_0260.sav) found!
;####################################################################
;Energy range: 213.25000keV-259.25000keV
;####################################################################
;---
;---
;OK!
;Creating arrays ...
;---
;---
;OK!
;Converting evts data to array-format spectra per pointing...
;---
;Pointing/revol_idx/Revolution/%:            0        1235    1380       0
;Pointing/revol_idx/Revolution/%:            6        1235    1380       9
;Pointing/revol_idx/Revolution/%:           12        1235    1380      18
;Pointing/revol_idx/Revolution/%:           18        1235    1380      27
;Pointing/revol_idx/Revolution/%:           24        1235    1380      36
;Pointing/revol_idx/Revolution/%:           30        1235    1380      46
;Pointing/revol_idx/Revolution/%:           36        1235    1380      55
;Pointing/revol_idx/Revolution/%:           42        1235    1380      64
;Pointing/revol_idx/Revolution/%:           48        1235    1380      73
;Pointing/revol_idx/Revolution/%:           54        1235    1380      83
;Pointing/revol_idx/Revolution/%:           60        1235    1380      92
;---
;Fitting ended!
;---
;---
;OK!
;Rebinning background model array and filling to structure...
;---
;---
;OK!
;Reading database file ...
;---
;---
;Database file (/afs/ipp/mpe/gamma/instruments/integral/data/databases/spi_line_db/data/links/com_spec_params_e0260_0287.sav) found!
;####################################################################
;Energy range: 260.25000keV-286.25000keV
;####################################################################
;---
;---
;OK!
;Creating arrays ...
;---
;---
;OK!
;Converting evts data to array-format spectra per pointing...
;---
;Pointing/revol_idx/Revolution/%:            0        1235    1380       0
;Pointing/revol_idx/Revolution/%:            6        1235    1380       9
;Pointing/revol_idx/Revolution/%:           12        1235    1380      18
;Pointing/revol_idx/Revolution/%:           18        1235    1380      27
;Pointing/revol_idx/Revolution/%:           24        1235    1380      36
;Pointing/revol_idx/Revolution/%:           30        1235    1380      46
;Pointing/revol_idx/Revolution/%:           36        1235    1380      55
;Pointing/revol_idx/Revolution/%:           42        1235    1380      64
;Pointing/revol_idx/Revolution/%:           48        1235    1380      73
;Pointing/revol_idx/Revolution/%:           54        1235    1380      83
;Pointing/revol_idx/Revolution/%:           60        1235    1380      92
;---
;Fitting ended!
;---
;---
;OK!
;Rebinning background model array and filling to structure...
;---
;---
;OK!
;Reading database file ...
;---
;---
;Database file (/afs/ipp/mpe/gamma/instruments/integral/data/databases/spi_line_db/data/links/com_spec_params_e0287_0356.sav) found!
;####################################################################
;Energy range: 287.25000keV-355.25000keV
;####################################################################
;---
;---
;OK!
;Creating arrays ...
;---
;---
;OK!
;Converting evts data to array-format spectra per pointing...
;---
;Pointing/revol_idx/Revolution/%:            0        1235    1380       0
;Pointing/revol_idx/Revolution/%:            6        1235    1380       9
;Pointing/revol_idx/Revolution/%:           12        1235    1380      18
;Pointing/revol_idx/Revolution/%:           18        1235    1380      27
;Pointing/revol_idx/Revolution/%:           24        1235    1380      36
;Pointing/revol_idx/Revolution/%:           30        1235    1380      46
;Pointing/revol_idx/Revolution/%:           36        1235    1380      55
;Pointing/revol_idx/Revolution/%:           42        1235    1380      64
;Pointing/revol_idx/Revolution/%:           48        1235    1380      73
;Pointing/revol_idx/Revolution/%:           54        1235    1380      83
;Pointing/revol_idx/Revolution/%:           60        1235    1380      92
;---
;Fitting ended!
;---
;---
;OK!
;Rebinning background model array and filling to structure...
;---
;---
;OK!
;Reading database file ...
;---
;---
;Database file (/afs/ipp/mpe/gamma/instruments/integral/data/databases/spi_line_db/data/links/com_spec_params_e0356_0408.sav) found!
;####################################################################
;Energy range: 356.25000keV-407.25000keV
;####################################################################
;---
;---
;OK!
;Creating arrays ...
;---
;---
;OK!
;Converting evts data to array-format spectra per pointing...
;---
;Pointing/revol_idx/Revolution/%:            0        1235    1380       0
;Pointing/revol_idx/Revolution/%:            6        1235    1380       9
;Pointing/revol_idx/Revolution/%:           12        1235    1380      18
;Pointing/revol_idx/Revolution/%:           18        1235    1380      27
;Pointing/revol_idx/Revolution/%:           24        1235    1380      36
;Pointing/revol_idx/Revolution/%:           30        1235    1380      46
;Pointing/revol_idx/Revolution/%:           36        1235    1380      55
;Pointing/revol_idx/Revolution/%:           42        1235    1380      64
;Pointing/revol_idx/Revolution/%:           48        1235    1380      73
;Pointing/revol_idx/Revolution/%:           54        1235    1380      83
;Pointing/revol_idx/Revolution/%:           60        1235    1380      92
;---
;Fitting ended!
;---
;---
;OK!
;Rebinning background model array and filling to structure...
;---
;---
;OK!
;Reading database file ...
;---
;---
;Database file (/afs/ipp/mpe/gamma/instruments/integral/data/databases/spi_line_db/data/links/com_spec_params_e0408_0422.sav) found!
;####################################################################
;Energy range: 408.25000keV-421.25000keV
;####################################################################
;---
;---
;OK!
;Creating arrays ...
;---
;---
;OK!
;Converting evts data to array-format spectra per pointing...
;---
;Pointing/revol_idx/Revolution/%:            0        1235    1380       0
;Pointing/revol_idx/Revolution/%:            6        1235    1380       9
;Pointing/revol_idx/Revolution/%:           12        1235    1380      18
;Pointing/revol_idx/Revolution/%:           18        1235    1380      27
;Pointing/revol_idx/Revolution/%:           24        1235    1380      36
;Pointing/revol_idx/Revolution/%:           30        1235    1380      46
;Pointing/revol_idx/Revolution/%:           36        1235    1380      55
;Pointing/revol_idx/Revolution/%:           42        1235    1380      64
;Pointing/revol_idx/Revolution/%:           48        1235    1380      73
;Pointing/revol_idx/Revolution/%:           54        1235    1380      83
;Pointing/revol_idx/Revolution/%:           60        1235    1380      92
;---
;Fitting ended!
;---
;---
;OK!
;Rebinning background model array and filling to structure...
;---
;---
;OK!
;Reading database file ...
;---
;---
;Database file (/afs/ipp/mpe/gamma/instruments/integral/data/databases/spi_line_db/data/links/com_spec_params_e0420_0453.sav) found!
;####################################################################
;Energy range: 420.25000keV-452.25000keV
;####################################################################
;---
;---
;OK!
;Creating arrays ...
;---
;---
;OK!
;Converting evts data to array-format spectra per pointing...
;---
;Pointing/revol_idx/Revolution/%:            0        1235    1380       0
;Pointing/revol_idx/Revolution/%:            6        1235    1380       9
;Pointing/revol_idx/Revolution/%:           12        1235    1380      18
;Pointing/revol_idx/Revolution/%:           18        1235    1380      27
;Pointing/revol_idx/Revolution/%:           24        1235    1380      36
;Pointing/revol_idx/Revolution/%:           30        1235    1380      46
;Pointing/revol_idx/Revolution/%:           36        1235    1380      55
;Pointing/revol_idx/Revolution/%:           42        1235    1380      64
;Pointing/revol_idx/Revolution/%:           48        1235    1380      73
;Pointing/revol_idx/Revolution/%:           54        1235    1380      83
;Pointing/revol_idx/Revolution/%:           60        1235    1380      92
;---
;Fitting ended!
;---
;---
;OK!
;Rebinning background model array and filling to structure...
;---
;---
;OK!
;Reading database file ...
;---
;---
;Database file (/afs/ipp/mpe/gamma/instruments/integral/data/databases/spi_line_db/data/links/com_spec_params_e0453_0490.sav) found!
;####################################################################
;Energy range: 453.25000keV-489.25000keV
;####################################################################
;---
;---
;OK!
;Creating arrays ...
;---
;---
;OK!
;Converting evts data to array-format spectra per pointing...
;---
;Pointing/revol_idx/Revolution/%:            0        1235    1380       0
;Pointing/revol_idx/Revolution/%:            6        1235    1380       9
;Pointing/revol_idx/Revolution/%:           12        1235    1380      18
;Pointing/revol_idx/Revolution/%:           18        1235    1380      27
;Pointing/revol_idx/Revolution/%:           24        1235    1380      36
;Pointing/revol_idx/Revolution/%:           30        1235    1380      46
;Pointing/revol_idx/Revolution/%:           36        1235    1380      55
;Pointing/revol_idx/Revolution/%:           42        1235    1380      64
;Pointing/revol_idx/Revolution/%:           48        1235    1380      73
;Pointing/revol_idx/Revolution/%:           54        1235    1380      83
;Pointing/revol_idx/Revolution/%:           60        1235    1380      92
;---
;Fitting ended!
;---
;---
;OK!
;Rebinning background model array and filling to structure...
;---
;---
;OK!
;Reading database file ...
;---
;---
;Database file (/afs/ipp/mpe/gamma/instruments/integral/data/databases/spi_line_db/data/links/com_spec_params_e0490_0530.sav) found!
;####################################################################
;Energy range: 490.25000keV-529.25000keV
;####################################################################
;---
;---
;OK!
;Creating arrays ...
;---
;---
;OK!
;Converting evts data to array-format spectra per pointing...
;---
;Pointing/revol_idx/Revolution/%:            0        1235    1380       0
;Pointing/revol_idx/Revolution/%:            6        1235    1380       9
;Pointing/revol_idx/Revolution/%:           12        1235    1380      18
;Pointing/revol_idx/Revolution/%:           18        1235    1380      27
;Pointing/revol_idx/Revolution/%:           24        1235    1380      36
;Pointing/revol_idx/Revolution/%:           30        1235    1380      46
;Pointing/revol_idx/Revolution/%:           36        1235    1380      55
;Pointing/revol_idx/Revolution/%:           42        1235    1380      64
;Pointing/revol_idx/Revolution/%:           48        1235    1380      73
;Pointing/revol_idx/Revolution/%:           54        1235    1380      83
;Pointing/revol_idx/Revolution/%:           60        1235    1380      92
;---
;Fitting ended!
;---
;---
;OK!
;Rebinning background model array and filling to structure...
;---
;---
;OK!
;Reading database file ...
;---
;---
;Database file (/afs/ipp/mpe/gamma/instruments/integral/data/databases/spi_line_db/data/links/com_spec_params_e0530_0620.sav) found!
;####################################################################
;Energy range: 530.25000keV-599.25000keV
;####################################################################
;---
;---
;OK!
;Creating arrays ...
;---
;---
;OK!
;Converting evts data to array-format spectra per pointing...
;---
;Pointing/revol_idx/Revolution/%:            0        1235    1380       0
;Pointing/revol_idx/Revolution/%:            6        1235    1380       9
;Pointing/revol_idx/Revolution/%:           12        1235    1380      18
;Pointing/revol_idx/Revolution/%:           18        1235    1380      27
;Pointing/revol_idx/Revolution/%:           24        1235    1380      36
;Pointing/revol_idx/Revolution/%:           30        1235    1380      46
;Pointing/revol_idx/Revolution/%:           36        1235    1380      55
;Pointing/revol_idx/Revolution/%:           42        1235    1380      64
;Pointing/revol_idx/Revolution/%:           48        1235    1380      73
;Pointing/revol_idx/Revolution/%:           54        1235    1380      83
;Pointing/revol_idx/Revolution/%:           60        1235    1380      92
;---
;Fitting ended!
;---
;---
;OK!
;Rebinning background model array and filling to structure...
;---
;---
;OK!
;---
;---
;Creating background directory ...
;---
;---
;OK!
;Creating necessary header information ...
;---
;---
;OK!
;Copying background model index file ...
;---
;---
;OK!
;Zipping background model ...
;---
;Saving miscellaneous information ...
;---
;---
;Saving separate model components ...
;---
;Writing to file for BG component <lines>
;Writing needed fits header information for BG component <lines>
;Zipping file for BG component <lines>
;Writing to file for BG component <continuum>
;Writing needed fits header information for BG component <continuum>
;Zipping file for BG component <continuum>
